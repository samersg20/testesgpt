generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id           String       @id @default(cuid())
  name         String
  email        String       @unique
  passwordHash String
  role         String
  labelPrints  LabelPrint[]
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
}

model Item {
  id           String       @id @default(cuid())
  name         String
  type         String
  sif          String?
  notes        String?
  chilledHours Int?
  frozenHours  Int?
  ambientHours Int?
  hotHours     Int?
  thawingHours Int?
  labelPrints  LabelPrint[]
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
}

model LabelPrint {
  id            String        @id @default(cuid())
  itemId         String
  item           Item          @relation(fields: [itemId], references: [id], onDelete: Restrict)
  storageMethod  String
  producedAt     DateTime
  expiresAt      DateTime
  userId         String
  user           User          @relation(fields: [userId], references: [id], onDelete: Restrict)
  quantity       Int
  createdAt      DateTime      @default(now())
}
